!function(o){o(document).ready(function(){function n(){o("header .mega-menu").removeClass("open"),o("header .main-menu").removeClass("mega-menu-open submenu-open"),o("header .main-menu .active").removeClass("active"),o("header .submenu-wrapper.open").removeClass("open").find(".submenu").removeClass("open"),o(".has-mega-menu").parent().removeClass("active"),o(".main-menu").find(".submenu-wrapper.open").removeClass("open").find(".submenu").removeClass("open")}o(".submenu:empty").parent().remove(),o(".owl-carousel").owlCarousel({items:1}),o(".has-mega-menu > a").on("click",function(e){e.preventDefault();var a=o(this),t=a.parent(".active");n(),0==t.length&&(a.parent().addClass("active"),o("header .main-menu").addClass("mega-menu-open open"),o("header .mega-menu").addClass("open"))}),o(".has-submenu > a").on("click",function(e){e.preventDefault();var a=o(this),t=a.parent().find(".submenu-wrapper.open");n(),0==t.length&&(a.parent().addClass("active"),a.parent().find(".submenu-wrapper").addClass("open"),o("header .main-menu").addClass("submenu-open"),a.parent().find(".submenu-wrapper .submenu").addClass("open"))}),o(".js-open-mobile-menu").on("click",function(e){e.preventDefault(),n(),o("header .main-menu").toggleClass("open")}),o(".js-toggle-site-sections").on("click",function(e){e.preventDefault(),o(this).toggleClass("active"),o(".site-sections-nav").toggleClass("open")}),o(document).click(function(e){n(),0<o((e=e).target).closest(".js-video-open").length||0<o(e.target).closest(".js-modal-open").length||0<o(e.target).closest(".js-open-image-in-modal").length||0<o(e.target).closest(".kvl-modal").length||(o(".kvl-modal").removeClass("open"),o(".kvl-modal .modal-body iframe").remove())}),o("nav, .mega-menu").click(function(e){e.stopPropagation()}),o(".accordion .title").click(function(e){o(this).toggleClass("active"),o(this).parent().find(".description").toggleClass("active")}),o(".toc a").click(function(e){e.preventDefault();e=o(this).attr("href");o([document.documentElement,document.body]).animate({scrollTop:o(e).offset().top},700)}),o(".js-expand-excerpt").click(function(e){var a=o(this).parent().parent().parent().attr("id");o(this).hasClass("has-close-icon")?o(this).parent().parent().parent().removeClass("active"):(o(".management-cards .item.active").removeClass("active").find(".has-close-icon").removeClass("has-close-icon").text("Read More").addClass("has-arrow"),o(this).parent().parent().parent().addClass("active"),o([document.documentElement,document.body]).animate({scrollTop:o("#"+a).offset().top},700)),o(this).toggleClass("has-close-icon has-arrow"),o(this).text("Read More"==o(this).text()?"Show Less":"Read More")}),o(".js-modal-open").click(function(e){e.preventDefault();var a=o(this).attr("href"),t=o(this).data("file-name"),e=o(this).parent().find("h2").html();o(".kvl-modal .modal-title").html(e),o(".kvl-modal #kvl-whitepaper-title").val(e),o(".kvl-modal #kvl-modal-redirect").val(a),o(".kvl-modal #kvl-modal-filename").val(t),o(".kvl-modal").addClass("open")}),o(".js-video-open").click(function(e){e.preventDefault();var a=function(e){e=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!e||11!=e[7].length)&&e[7]}(o(this).attr("href")),e=o(this).parent().parent().find("h2").html();o(".kvl-modal").addClass("has-video"),o(".kvl-modal .modal-title").html(e),o(".kvl-modal .modal-body").html(""),o(".kvl-modal .modal-body iframe").remove(),o('<iframe title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; mute; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>').attr("src","https://www.youtube.com/embed/"+a+"?autoplay=1").appendTo(".kvl-modal .modal-body"),o(".kvl-modal").addClass("open")}),o(".js-modal-close").click(function(e){e.preventDefault(),o(".kvl-modal .modal-body iframe").remove(),o(".kvl-modal").removeClass("open")})})}(jQuery);